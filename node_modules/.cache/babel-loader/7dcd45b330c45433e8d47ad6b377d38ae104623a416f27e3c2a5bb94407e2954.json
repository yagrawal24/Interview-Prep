{"ast":null,"code":"var _jsxFileName = \"/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/src/components/Evaluation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { sendMessageToAI } from \"../utils/GptAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Evaluation = ({\n  messages\n}) => {\n  _s();\n  const [gptMessages, setGptMessages] = useState(\"\");\n  useEffect(() => {\n    const createTranscript = messages => {\n      return messages.slice(1).map(msg => `${msg.role}: ${msg.content}`).join('\\n');\n    };\n    const fetchEvaluation = async () => {\n      const transcript = createTranscript(messages);\n      const initialContext = {\n        role: \"system\",\n        content: \"You are a senior software developer at a large software company.\" + \" Your company just finished interviewing a candidate for a Software Engineer role.\" + \" You have been given the transcript where the user is the candidate and the assistant is another software developer from your company.\" + \" Evaluate the candidate/user in the interview transcript. Focus on 8 aspects in your evaluation: \" + \"Motivation, Ability to be Proactive, Able to work in an unstructured environment, Perseverance, \" + \"Empathy, and Communication.\" + \" You are only evaluating the candidate.\" + \" You are not the user.\"\n      };\n      const interviewTranscript = {\n        role: \"user\",\n        content: transcript\n      };\n      console.log([initialContext, interviewTranscript]);\n\n      // Now call the API and wait for the response before setting the state\n      const response = await gptCall([initialContext, interviewTranscript]);\n      if (response) {\n        // Make sure there's a response before setting state\n        setGptMessages(response);\n        console.log(response);\n      }\n    };\n    fetchEvaluation();\n  }, []);\n  const gptCall = async newMessages => {\n    try {\n      const responseText = await sendMessageToAI(newMessages);\n      return responseText;\n    } catch (error) {\n      console.error('Error:', error);\n      return \"\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [gptMessages, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Evaluation, \"RoyQNhsVCkXRLCJZUkjX+WuHy2U=\");\n_c = Evaluation;\nexport default Evaluation;\nvar _c;\n$RefreshReg$(_c, \"Evaluation\");","map":{"version":3,"names":["React","useState","useEffect","sendMessageToAI","jsxDEV","_jsxDEV","Evaluation","messages","_s","gptMessages","setGptMessages","createTranscript","slice","map","msg","role","content","join","fetchEvaluation","transcript","initialContext","interviewTranscript","console","log","response","gptCall","newMessages","responseText","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/src/components/Evaluation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { sendMessageToAI } from \"../utils/GptAPI\";\n\nconst Evaluation = ({ messages }) => {\n  const [gptMessages, setGptMessages] = useState(\"\");\n\n  useEffect(() => {\n    const createTranscript = (messages) => {\n      return messages.slice(1).map((msg) => `${msg.role}: ${msg.content}`).join('\\n');\n    };\n\n    const fetchEvaluation = async () => {\n      const transcript = createTranscript(messages);\n\n      const initialContext = {\n        role: \"system\",\n        content: \"You are a senior software developer at a large software company.\" + \n        \" Your company just finished interviewing a candidate for a Software Engineer role.\" +\n        \" You have been given the transcript where the user is the candidate and the assistant is another software developer from your company.\" + \n        \" Evaluate the candidate/user in the interview transcript. Focus on 8 aspects in your evaluation: \" +\n        \"Motivation, Ability to be Proactive, Able to work in an unstructured environment, Perseverance, \" +\n        \"Empathy, and Communication.\" + \n        \" You are only evaluating the candidate.\" + \n        \" You are not the user.\"\n      };\n\n      const interviewTranscript = {\n        role: \"user\",\n        content: transcript\n      };\n\n      console.log([initialContext, interviewTranscript])\n\n      // Now call the API and wait for the response before setting the state\n      const response = await gptCall([initialContext, interviewTranscript]);\n      if (response) { // Make sure there's a response before setting state\n        setGptMessages(response);\n        console.log(response)\n      }\n    };\n\n    fetchEvaluation();\n  }, []);\n\n  const gptCall = async (newMessages) => {\n    try {\n      const responseText = await sendMessageToAI(newMessages);\n      return responseText;\n    } catch (error) {\n      console.error('Error:', error);\n      return \"\";\n    }\n  };\n\n  return (\n    <div>\n      {gptMessages} {/* Render the message directly as it's now a string */}\n    </div>\n  );\n};\n\nexport default Evaluation;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAElDC,SAAS,CAAC,MAAM;IACd,MAAMS,gBAAgB,GAAIJ,QAAQ,IAAK;MACrC,OAAOA,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEC,GAAG,IAAM,GAAEA,GAAG,CAACC,IAAK,KAAID,GAAG,CAACE,OAAQ,EAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IACjF,CAAC;IAED,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,MAAMC,UAAU,GAAGR,gBAAgB,CAACJ,QAAQ,CAAC;MAE7C,MAAMa,cAAc,GAAG;QACrBL,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,kEAAkE,GAC3E,oFAAoF,GACpF,wIAAwI,GACxI,mGAAmG,GACnG,kGAAkG,GAClG,6BAA6B,GAC7B,yCAAyC,GACzC;MACF,CAAC;MAED,MAAMK,mBAAmB,GAAG;QAC1BN,IAAI,EAAE,MAAM;QACZC,OAAO,EAAEG;MACX,CAAC;MAEDG,OAAO,CAACC,GAAG,CAAC,CAACH,cAAc,EAAEC,mBAAmB,CAAC,CAAC;;MAElD;MACA,MAAMG,QAAQ,GAAG,MAAMC,OAAO,CAAC,CAACL,cAAc,EAAEC,mBAAmB,CAAC,CAAC;MACrE,IAAIG,QAAQ,EAAE;QAAE;QACdd,cAAc,CAACc,QAAQ,CAAC;QACxBF,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;MACvB;IACF,CAAC;IAEDN,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMO,OAAO,GAAG,MAAOC,WAAW,IAAK;IACrC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAMxB,eAAe,CAACuB,WAAW,CAAC;MACvD,OAAOC,YAAY;IACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B,OAAO,EAAE;IACX;EACF,CAAC;EAED,oBACEvB,OAAA;IAAAwB,QAAA,GACGpB,WAAW,EAAC,GAAC;EAAA;IAAAqB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEV,CAAC;AAACzB,EAAA,CAxDIF,UAAU;AAAA4B,EAAA,GAAV5B,UAAU;AA0DhB,eAAeA,UAAU;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}