{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function () {\n  var makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n  };\n  var reflectHandler = function () {\n    return new Promise.PromiseInspection(this._target());\n  };\n  var apiRejection = function (msg) {\n    return Promise.reject(new TypeError(msg));\n  };\n  function Proxyable() {}\n  var UNDEFINED_BINDING = {};\n  var util = require(\"./util\");\n  var getDomain;\n  if (util.isNode) {\n    getDomain = function () {\n      var ret = process.domain;\n      if (ret === undefined) ret = null;\n      return ret;\n    };\n  } else {\n    getDomain = function () {\n      return null;\n    };\n  }\n  util.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n  var es5 = require(\"./es5\");\n  var Async = require(\"./async\");\n  var async = new Async();\n  es5.defineProperty(Promise, \"_async\", {\n    value: async\n  });\n  var errors = require(\"./errors\");\n  var TypeError = Promise.TypeError = errors.TypeError;\n  Promise.RangeError = errors.RangeError;\n  var CancellationError = Promise.CancellationError = errors.CancellationError;\n  Promise.TimeoutError = errors.TimeoutError;\n  Promise.OperationalError = errors.OperationalError;\n  Promise.RejectionError = errors.OperationalError;\n  Promise.AggregateError = errors.AggregateError;\n  var INTERNAL = function () {};\n  var APPLY = {};\n  var NEXT_FILTER = {};\n  var tryConvertToPromise = require(\"./thenables\")(Promise, INTERNAL);\n  var PromiseArray = require(\"./promise_array\")(Promise, INTERNAL, tryConvertToPromise, apiRejection, Proxyable);\n  var Context = require(\"./context\")(Promise);\n  /*jshint unused:false*/\n  var createContext = Context.create;\n  var debug = require(\"./debuggability\")(Promise, Context);\n  var CapturedTrace = debug.CapturedTrace;\n  var PassThroughHandlerContext = require(\"./finally\")(Promise, tryConvertToPromise);\n  var catchFilter = require(\"./catch_filter\")(NEXT_FILTER);\n  var nodebackForPromise = require(\"./nodeback\");\n  var errorObj = util.errorObj;\n  var tryCatch = util.tryCatch;\n  function check(self, executor) {\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n    if (self.constructor !== Promise) {\n      throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n  }\n  function Promise(executor) {\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    if (executor !== INTERNAL) {\n      check(this, executor);\n      this._resolveFromExecutor(executor);\n    }\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n  }\n  Promise.prototype.toString = function () {\n    return \"[object Promise]\";\n  };\n  Promise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n      var catchInstances = new Array(len - 1),\n        j = 0,\n        i;\n      for (i = 0; i < len - 1; ++i) {\n        var item = arguments[i];\n        if (util.isObject(item)) {\n          catchInstances[j++] = item;\n        } else {\n          return apiRejection(\"expecting an object but got \" + \"A catch statement predicate \" + util.classString(item));\n        }\n      }\n      catchInstances.length = j;\n      fn = arguments[i];\n      return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n  };\n  Promise.prototype.reflect = function () {\n    return this._then(reflectHandler, reflectHandler, undefined, this, undefined);\n  };\n  Promise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 && typeof didFulfill !== \"function\" && typeof didReject !== \"function\") {\n      var msg = \".then() only accepts functions but was passed: \" + util.classString(didFulfill);\n      if (arguments.length > 1) {\n        msg += \", \" + util.classString(didReject);\n      }\n      this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n  };\n  Promise.prototype.done = function (didFulfill, didReject) {\n    var promise = this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n  };\n  Promise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n      return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n  };\n  Promise.prototype.toJSON = function () {\n    var ret = {\n      isFulfilled: false,\n      isRejected: false,\n      fulfillmentValue: undefined,\n      rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n      ret.fulfillmentValue = this.value();\n      ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n      ret.rejectionReason = this.reason();\n      ret.isRejected = true;\n    }\n    return ret;\n  };\n  Promise.prototype.all = function () {\n    if (arguments.length > 0) {\n      this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n  };\n  Promise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n  };\n  Promise.getNewLibraryCopy = module.exports;\n  Promise.is = function (val) {\n    return val instanceof Promise;\n  };\n  Promise.fromNode = Promise.fromCallback = function (fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n      ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n  };\n  Promise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n  };\n  Promise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n      ret = new Promise(INTERNAL);\n      ret._captureStackTrace();\n      ret._setFulfilled();\n      ret._rejectionHandler0 = obj;\n    }\n    return ret;\n  };\n  Promise.resolve = Promise.fulfilled = Promise.cast;\n  Promise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n  };\n  Promise.setScheduler = function (fn) {\n    if (typeof fn !== \"function\") {\n      throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n  };\n  Promise.prototype._then = function (didFulfill, didReject, _, receiver, internalData) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n    if (!haveInternalData) {\n      promise._propagateFrom(this, 3);\n      promise._captureStackTrace();\n      if (receiver === undefined && (this._bitField & 2097152) !== 0) {\n        if (!((bitField & 50397184) === 0)) {\n          receiver = this._boundValue();\n        } else {\n          receiver = target === this ? undefined : this._boundTo;\n        }\n      }\n      this._fireEvent(\"promiseChained\", this, promise);\n    }\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n      var handler,\n        value,\n        settler = target._settlePromiseCtx;\n      if ((bitField & 33554432) !== 0) {\n        value = target._rejectionHandler0;\n        handler = didFulfill;\n      } else if ((bitField & 16777216) !== 0) {\n        value = target._fulfillmentHandler0;\n        handler = didReject;\n        target._unsetRejectionIsUnhandled();\n      } else {\n        settler = target._settlePromiseLateCancellationObserver;\n        value = new CancellationError(\"late cancellation observer\");\n        target._attachExtraTrace(value);\n        handler = didReject;\n      }\n      async.invoke(settler, target, {\n        handler: domain === null ? handler : typeof handler === \"function\" && util.domainBind(domain, handler),\n        promise: promise,\n        receiver: receiver,\n        value: value\n      });\n    } else {\n      target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n    return promise;\n  };\n  Promise.prototype._length = function () {\n    return this._bitField & 65535;\n  };\n  Promise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n  };\n  Promise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n  };\n  Promise.prototype._setLength = function (len) {\n    this._bitField = this._bitField & -65536 | len & 65535;\n  };\n  Promise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n  };\n  Promise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n  };\n  Promise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n  };\n  Promise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n  };\n  Promise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n  };\n  Promise.prototype._unsetCancelled = function () {\n    this._bitField = this._bitField & ~65536;\n  };\n  Promise.prototype._setCancelled = function () {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n  };\n  Promise.prototype._setWillBeCancelled = function () {\n    this._bitField = this._bitField | 8388608;\n  };\n  Promise.prototype._setAsyncGuaranteed = function () {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n  };\n  Promise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n      return undefined;\n    } else if (ret === undefined && this._isBound()) {\n      return this._boundValue();\n    }\n    return ret;\n  };\n  Promise.prototype._promiseAt = function (index) {\n    return this[index * 4 - 4 + 2];\n  };\n  Promise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[index * 4 - 4 + 0];\n  };\n  Promise.prototype._rejectionHandlerAt = function (index) {\n    return this[index * 4 - 4 + 1];\n  };\n  Promise.prototype._boundValue = function () {};\n  Promise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n  };\n  Promise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n  };\n  Promise.prototype._addCallbacks = function (fulfill, reject, promise, receiver, domain) {\n    var index = this._length();\n    if (index >= 65535 - 4) {\n      index = 0;\n      this._setLength(0);\n    }\n    if (index === 0) {\n      this._promise0 = promise;\n      this._receiver0 = receiver;\n      if (typeof fulfill === \"function\") {\n        this._fulfillmentHandler0 = domain === null ? fulfill : util.domainBind(domain, fulfill);\n      }\n      if (typeof reject === \"function\") {\n        this._rejectionHandler0 = domain === null ? reject : util.domainBind(domain, reject);\n      }\n    } else {\n      var base = index * 4 - 4;\n      this[base + 2] = promise;\n      this[base + 3] = receiver;\n      if (typeof fulfill === \"function\") {\n        this[base + 0] = domain === null ? fulfill : util.domainBind(domain, fulfill);\n      }\n      if (typeof reject === \"function\") {\n        this[base + 1] = domain === null ? reject : util.domainBind(domain, reject);\n      }\n    }\n    this._setLength(index + 1);\n    return index;\n  };\n  Promise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n  };\n  Promise.prototype._resolveCallback = function (value, shouldBind) {\n    if ((this._bitField & 117506048) !== 0) return;\n    if (value === this) return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n    var promise = maybePromise._target();\n    if (promise === this) {\n      this._reject(makeSelfResolutionError());\n      return;\n    }\n    var bitField = promise._bitField;\n    if ((bitField & 50397184) === 0) {\n      var len = this._length();\n      if (len > 0) promise._migrateCallback0(this);\n      for (var i = 1; i < len; ++i) {\n        promise._migrateCallbackAt(this, i);\n      }\n      this._setFollowing();\n      this._setLength(0);\n      this._setFollowee(promise);\n    } else if ((bitField & 33554432) !== 0) {\n      this._fulfill(promise._value());\n    } else if ((bitField & 16777216) !== 0) {\n      this._reject(promise._reason());\n    } else {\n      var reason = new CancellationError(\"late cancellation observer\");\n      promise._attachExtraTrace(reason);\n      this._reject(reason);\n    }\n  };\n  Promise.prototype._rejectCallback = function (reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n      var message = \"a promise was rejected with a non-error: \" + util.classString(reason);\n      this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n  };\n  Promise.prototype._resolveFromExecutor = function (executor) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function (value) {\n      promise._resolveCallback(value);\n    }, function (reason) {\n      promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n    if (r !== undefined) {\n      promise._rejectCallback(r, true);\n    }\n  };\n  Promise.prototype._settlePromiseFromHandler = function (handler, receiver, value, promise) {\n    var bitField = promise._bitField;\n    if ((bitField & 65536) !== 0) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n      if (!value || typeof value.length !== \"number\") {\n        x = errorObj;\n        x.e = new TypeError(\"cannot .spread() a non-array: \" + util.classString(value));\n      } else {\n        x = tryCatch(handler).apply(this._boundValue(), value);\n      }\n    } else {\n      x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if ((bitField & 65536) !== 0) return;\n    if (x === NEXT_FILTER) {\n      promise._reject(value);\n    } else if (x === errorObj) {\n      promise._rejectCallback(x.e, false);\n    } else {\n      debug.checkForgottenReturns(x, promiseCreated, \"\", promise, this);\n      promise._resolveCallback(x);\n    }\n  };\n  Promise.prototype._target = function () {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n  };\n  Promise.prototype._followee = function () {\n    return this._rejectionHandler0;\n  };\n  Promise.prototype._setFollowee = function (promise) {\n    this._rejectionHandler0 = promise;\n  };\n  Promise.prototype._settlePromise = function (promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = (bitField & 134217728) !== 0;\n    if ((bitField & 65536) !== 0) {\n      if (isPromise) promise._invokeInternalOnCancel();\n      if (receiver instanceof PassThroughHandlerContext && receiver.isFinallyHandler()) {\n        receiver.cancelPromise = promise;\n        if (tryCatch(handler).call(receiver, value) === errorObj) {\n          promise._reject(errorObj.e);\n        }\n      } else if (handler === reflectHandler) {\n        promise._fulfill(reflectHandler.call(receiver));\n      } else if (receiver instanceof Proxyable) {\n        receiver._promiseCancelled(promise);\n      } else if (isPromise || promise instanceof PromiseArray) {\n        promise._cancel();\n      } else {\n        receiver.cancel();\n      }\n    } else if (typeof handler === \"function\") {\n      if (!isPromise) {\n        handler.call(receiver, value, promise);\n      } else {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        this._settlePromiseFromHandler(handler, receiver, value, promise);\n      }\n    } else if (receiver instanceof Proxyable) {\n      if (!receiver._isResolved()) {\n        if ((bitField & 33554432) !== 0) {\n          receiver._promiseFulfilled(value, promise);\n        } else {\n          receiver._promiseRejected(value, promise);\n        }\n      }\n    } else if (isPromise) {\n      if (asyncGuaranteed) promise._setAsyncGuaranteed();\n      if ((bitField & 33554432) !== 0) {\n        promise._fulfill(value);\n      } else {\n        promise._reject(value);\n      }\n    }\n  };\n  Promise.prototype._settlePromiseLateCancellationObserver = function (ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n      if (!(promise instanceof Promise)) {\n        handler.call(receiver, value, promise);\n      } else {\n        this._settlePromiseFromHandler(handler, receiver, value, promise);\n      }\n    } else if (promise instanceof Promise) {\n      promise._reject(value);\n    }\n  };\n  Promise.prototype._settlePromiseCtx = function (ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n  };\n  Promise.prototype._settlePromise0 = function (handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n  };\n  Promise.prototype._clearCallbackDataAtIndex = function (index) {\n    var base = index * 4 - 4;\n    this[base + 2] = this[base + 3] = this[base + 0] = this[base + 1] = undefined;\n  };\n  Promise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if ((bitField & 117506048) >>> 16) return;\n    if (value === this) {\n      var err = makeSelfResolutionError();\n      this._attachExtraTrace(err);\n      return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n    if ((bitField & 65535) > 0) {\n      if ((bitField & 134217728) !== 0) {\n        this._settlePromises();\n      } else {\n        async.settlePromises(this);\n      }\n    }\n  };\n  Promise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if ((bitField & 117506048) >>> 16) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n    if (this._isFinal()) {\n      return async.fatalError(reason, util.isNode);\n    }\n    if ((bitField & 65535) > 0) {\n      async.settlePromises(this);\n    } else {\n      this._ensurePossibleRejectionHandled();\n    }\n  };\n  Promise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n      var handler = this._fulfillmentHandlerAt(i);\n      var promise = this._promiseAt(i);\n      var receiver = this._receiverAt(i);\n      this._clearCallbackDataAtIndex(i);\n      this._settlePromise(promise, handler, receiver, value);\n    }\n  };\n  Promise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n      var handler = this._rejectionHandlerAt(i);\n      var promise = this._promiseAt(i);\n      var receiver = this._receiverAt(i);\n      this._clearCallbackDataAtIndex(i);\n      this._settlePromise(promise, handler, receiver, reason);\n    }\n  };\n  Promise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = bitField & 65535;\n    if (len > 0) {\n      if ((bitField & 16842752) !== 0) {\n        var reason = this._fulfillmentHandler0;\n        this._settlePromise0(this._rejectionHandler0, reason, bitField);\n        this._rejectPromises(len, reason);\n      } else {\n        var value = this._rejectionHandler0;\n        this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n        this._fulfillPromises(len, value);\n      }\n      this._setLength(0);\n    }\n    this._clearCancellationData();\n  };\n  Promise.prototype._settledValue = function () {\n    var bitField = this._bitField;\n    if ((bitField & 33554432) !== 0) {\n      return this._rejectionHandler0;\n    } else if ((bitField & 16777216) !== 0) {\n      return this._fulfillmentHandler0;\n    }\n  };\n  function deferResolve(v) {\n    this.promise._resolveCallback(v);\n  }\n  function deferReject(v) {\n    this.promise._rejectCallback(v, false);\n  }\n  Promise.defer = Promise.pending = function () {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n      promise: promise,\n      resolve: deferResolve,\n      reject: deferReject\n    };\n  };\n  util.notEnumerableProp(Promise, \"_makeSelfResolutionError\", makeSelfResolutionError);\n  require(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug);\n  require(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n  require(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n  require(\"./direct_resolve\")(Promise);\n  require(\"./synchronous_inspection\")(Promise);\n  require(\"./join\")(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\n  Promise.Promise = Promise;\n  Promise.version = \"3.4.7\";\n  require('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n  require('./call_get.js')(Promise);\n  require('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n  require('./timers.js')(Promise, INTERNAL, debug);\n  require('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n  require('./nodeify.js')(Promise);\n  require('./promisify.js')(Promise, INTERNAL);\n  require('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n  require('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n  require('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n  require('./settle.js')(Promise, PromiseArray, debug);\n  require('./some.js')(Promise, PromiseArray, apiRejection);\n  require('./filter.js')(Promise, INTERNAL);\n  require('./each.js')(Promise, INTERNAL);\n  require('./any.js')(Promise);\n  util.toFastProperties(Promise);\n  util.toFastProperties(Promise.prototype);\n  function fillTypes(value) {\n    var p = new Promise(INTERNAL);\n    p._fulfillmentHandler0 = value;\n    p._rejectionHandler0 = value;\n    p._promise0 = value;\n    p._receiver0 = value;\n  }\n  // Complete slack tracking, opt out of field-type tracking and           \n  // stabilize map                                                         \n  fillTypes({\n    a: 1\n  });\n  fillTypes({\n    b: 2\n  });\n  fillTypes({\n    c: 3\n  });\n  fillTypes(1);\n  fillTypes(function () {});\n  fillTypes(undefined);\n  fillTypes(false);\n  fillTypes(new Promise(INTERNAL));\n  debug.setBounds(Async.firstLineError, util.lastLineError);\n  return Promise;\n};","map":{"version":3,"names":["module","exports","makeSelfResolutionError","TypeError","reflectHandler","Promise","PromiseInspection","_target","apiRejection","msg","reject","Proxyable","UNDEFINED_BINDING","util","require","getDomain","isNode","ret","process","domain","undefined","notEnumerableProp","es5","Async","async","defineProperty","value","errors","RangeError","CancellationError","TimeoutError","OperationalError","RejectionError","AggregateError","INTERNAL","APPLY","NEXT_FILTER","tryConvertToPromise","PromiseArray","Context","createContext","create","debug","CapturedTrace","PassThroughHandlerContext","catchFilter","nodebackForPromise","errorObj","tryCatch","check","self","executor","classString","constructor","_bitField","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","_promiseCreated","_fireEvent","prototype","toString","caught","fn","len","arguments","length","catchInstances","Array","j","i","item","isObject","then","reflect","_then","didFulfill","didReject","warnings","_warn","done","promise","_setIsFinal","spread","all","toJSON","isFulfilled","isRejected","fulfillmentValue","rejectionReason","reason","error","originatesFromRejection","getNewLibraryCopy","is","val","fromNode","fromCallback","_captureStackTrace","multiArgs","Object","result","_rejectCallback","e","_isFateSealed","_setAsyncGuaranteed","promises","cast","obj","_setFulfilled","resolve","fulfilled","rejected","setScheduler","_","receiver","internalData","haveInternalData","target","bitField","_propagateFrom","_boundValue","_boundTo","handler","settler","_settlePromiseCtx","_unsetRejectionIsUnhandled","_settlePromiseLateCancellationObserver","_attachExtraTrace","invoke","domainBind","_addCallbacks","_length","_isFollowing","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_setCancelled","_setWillBeCancelled","hasCustomScheduler","_receiverAt","index","_isBound","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","_proxy","proxyable","arg","_resolveCallback","shouldBind","maybePromise","_fulfill","_reject","_setFollowee","_value","_reason","synchronous","ignoreNonErrorWarnings","trace","ensureErrorObject","hasStack","message","_pushContext","r","_execute","_popContext","_settlePromiseFromHandler","x","apply","call","promiseCreated","checkForgottenReturns","_followee","_settlePromise","isPromise","asyncGuaranteed","_invokeInternalOnCancel","isFinallyHandler","cancelPromise","_promiseCancelled","_cancel","cancel","_isResolved","_promiseFulfilled","_promiseRejected","ctx","_settlePromise0","_clearCallbackDataAtIndex","err","_settlePromises","settlePromises","fatalError","_ensurePossibleRejectionHandled","_fulfillPromises","_rejectPromises","_clearCancellationData","_settledValue","deferResolve","v","deferReject","defer","pending","deprecated","version","toFastProperties","fillTypes","p","a","b","c","setBounds","firstLineError","lastLineError"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/node_modules/mammoth/node_modules/bluebird/js/release/promise.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = require(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = require(\"./es5\");\nvar Async = require(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = require(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = require(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = require(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = require(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    require(\"./finally\")(Promise, tryConvertToPromise);\nvar catchFilter = require(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = require(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n    if (self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n}\n\nfunction Promise(executor) {\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    if (executor !== INTERNAL) {\n        check(this, executor);\n        this._resolveFromExecutor(executor);\n    }\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"expecting an object but got \" +\n                    \"A catch statement predicate \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\nrequire(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\nrequire(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\nrequire(\"./direct_resolve\")(Promise);\nrequire(\"./synchronous_inspection\")(Promise);\nrequire(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.4.7\";\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./call_get.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\nrequire('./timers.js')(Promise, INTERNAL, debug);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\nrequire('./nodeify.js')(Promise);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./settle.js')(Promise, PromiseArray, debug);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./filter.js')(Promise, INTERNAL);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}