{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug) {\n  var getDomain = Promise._getDomain;\n  var util = require(\"./util\");\n  var tryCatch = util.tryCatch;\n  var errorObj = util.errorObj;\n  var async = Promise._async;\n  function MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL ? new Array(this.length()) : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n  }\n  util.inherits(MappingPromiseArray, PromiseArray);\n  MappingPromiseArray.prototype._asyncInit = function () {\n    this._init$(undefined, -2);\n  };\n  MappingPromiseArray.prototype._init = function () {};\n  MappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n    if (index < 0) {\n      index = index * -1 - 1;\n      values[index] = value;\n      if (limit >= 1) {\n        this._inFlight--;\n        this._drainQueue();\n        if (this._isResolved()) return true;\n      }\n    } else {\n      if (limit >= 1 && this._inFlight >= limit) {\n        values[index] = value;\n        this._queue.push(index);\n        return false;\n      }\n      if (preservedValues !== null) preservedValues[index] = value;\n      var promise = this._promise;\n      var callback = this._callback;\n      var receiver = promise._boundValue();\n      promise._pushContext();\n      var ret = tryCatch(callback).call(receiver, value, index, length);\n      var promiseCreated = promise._popContext();\n      debug.checkForgottenReturns(ret, promiseCreated, preservedValues !== null ? \"Promise.filter\" : \"Promise.map\", promise);\n      if (ret === errorObj) {\n        this._reject(ret.e);\n        return true;\n      }\n      var maybePromise = tryConvertToPromise(ret, this._promise);\n      if (maybePromise instanceof Promise) {\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if ((bitField & 50397184) === 0) {\n          if (limit >= 1) this._inFlight++;\n          values[index] = maybePromise;\n          maybePromise._proxy(this, (index + 1) * -1);\n          return false;\n        } else if ((bitField & 33554432) !== 0) {\n          ret = maybePromise._value();\n        } else if ((bitField & 16777216) !== 0) {\n          this._reject(maybePromise._reason());\n          return true;\n        } else {\n          this._cancel();\n          return true;\n        }\n      }\n      values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n      if (preservedValues !== null) {\n        this._filter(values, preservedValues);\n      } else {\n        this._resolve(values);\n      }\n      return true;\n    }\n    return false;\n  };\n  MappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n      if (this._isResolved()) return;\n      var index = queue.pop();\n      this._promiseFulfilled(values[index], index);\n    }\n  };\n  MappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n      if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n  };\n  MappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n  };\n  function map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n      return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var limit = 0;\n    if (options !== undefined) {\n      if (typeof options === \"object\" && options !== null) {\n        if (typeof options.concurrency !== \"number\") {\n          return Promise.reject(new TypeError(\"'concurrency' must be a number but it is \" + util.classString(options.concurrency)));\n        }\n        limit = options.concurrency;\n      } else {\n        return Promise.reject(new TypeError(\"options argument must be an object but it is \" + util.classString(options)));\n      }\n    }\n    limit = typeof limit === \"number\" && isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n  }\n  Promise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n  };\n  Promise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n  };\n};","map":{"version":3,"names":["module","exports","Promise","PromiseArray","apiRejection","tryConvertToPromise","INTERNAL","debug","getDomain","_getDomain","util","require","tryCatch","errorObj","async","_async","MappingPromiseArray","promises","fn","limit","_filter","constructor$","_promise","_captureStackTrace","domain","_callback","domainBind","_preservedValues","Array","length","_limit","_inFlight","_queue","invoke","_asyncInit","undefined","inherits","prototype","_init$","_init","_promiseFulfilled","value","index","values","_values","preservedValues","_drainQueue","_isResolved","push","promise","callback","receiver","_boundValue","_pushContext","ret","call","promiseCreated","_popContext","checkForgottenReturns","_reject","e","maybePromise","_target","bitField","_bitField","_proxy","_value","_reason","_cancel","totalResolved","_totalResolved","_resolve","queue","pop","booleans","len","j","i","map","options","classString","concurrency","reject","TypeError","isFinite"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/node_modules/mammoth/node_modules/bluebird/js/release/map.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}