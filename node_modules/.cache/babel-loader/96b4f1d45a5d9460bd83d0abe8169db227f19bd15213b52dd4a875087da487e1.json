{"ast":null,"code":"exports.read = read;\nexports._findPartPaths = findPartPaths;\nvar path = require(\"path\");\nvar promises = require(\"../promises\");\nvar documents = require(\"../documents\");\nvar Result = require(\"../results\").Result;\nvar zipfile = require(\"../zipfile\");\nvar readXmlFromZipFile = require(\"./office-xml-reader\").readXmlFromZipFile;\nvar createBodyReader = require(\"./body-reader\").createBodyReader;\nvar DocumentXmlReader = require(\"./document-xml-reader\").DocumentXmlReader;\nvar relationshipsReader = require(\"./relationships-reader\");\nvar contentTypesReader = require(\"./content-types-reader\");\nvar numberingXml = require(\"./numbering-xml\");\nvar stylesReader = require(\"./styles-reader\");\nvar notesReader = require(\"./notes-reader\");\nvar commentsReader = require(\"./comments-reader\");\nvar Files = require(\"./files\").Files;\nfunction read(docxFile, input) {\n  input = input || {};\n  return promises.props({\n    contentTypes: readContentTypesFromZipFile(docxFile),\n    partPaths: findPartPaths(docxFile),\n    docxFile: docxFile,\n    files: new Files(input.path ? path.dirname(input.path) : null)\n  }).also(function (result) {\n    return {\n      styles: readStylesFromZipFile(docxFile, result.partPaths.styles)\n    };\n  }).also(function (result) {\n    return {\n      numbering: readNumberingFromZipFile(docxFile, result.partPaths.numbering, result.styles)\n    };\n  }).also(function (result) {\n    return {\n      footnotes: readXmlFileWithBody(result.partPaths.footnotes, result, function (bodyReader, xml) {\n        if (xml) {\n          return notesReader.createFootnotesReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      }),\n      endnotes: readXmlFileWithBody(result.partPaths.endnotes, result, function (bodyReader, xml) {\n        if (xml) {\n          return notesReader.createEndnotesReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      }),\n      comments: readXmlFileWithBody(result.partPaths.comments, result, function (bodyReader, xml) {\n        if (xml) {\n          return commentsReader.createCommentsReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      })\n    };\n  }).also(function (result) {\n    return {\n      notes: result.footnotes.flatMap(function (footnotes) {\n        return result.endnotes.map(function (endnotes) {\n          return new documents.Notes(footnotes.concat(endnotes));\n        });\n      })\n    };\n  }).then(function (result) {\n    return readXmlFileWithBody(result.partPaths.mainDocument, result, function (bodyReader, xml) {\n      return result.notes.flatMap(function (notes) {\n        return result.comments.flatMap(function (comments) {\n          var reader = new DocumentXmlReader({\n            bodyReader: bodyReader,\n            notes: notes,\n            comments: comments\n          });\n          return reader.convertXmlToDocument(xml);\n        });\n      });\n    });\n  });\n}\nfunction findPartPaths(docxFile) {\n  return readPackageRelationships(docxFile).then(function (packageRelationships) {\n    var mainDocumentPath = findPartPath({\n      docxFile: docxFile,\n      relationships: packageRelationships,\n      relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n      basePath: \"\",\n      fallbackPath: \"word/document.xml\"\n    });\n    if (!docxFile.exists(mainDocumentPath)) {\n      throw new Error(\"Could not find main document part. Are you sure this is a valid .docx file?\");\n    }\n    return xmlFileReader({\n      filename: relationshipsFilename(mainDocumentPath),\n      readElement: relationshipsReader.readRelationships,\n      defaultValue: relationshipsReader.defaultValue\n    })(docxFile).then(function (documentRelationships) {\n      function findPartRelatedToMainDocument(name) {\n        return findPartPath({\n          docxFile: docxFile,\n          relationships: documentRelationships,\n          relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/\" + name,\n          basePath: zipfile.splitPath(mainDocumentPath).dirname,\n          fallbackPath: \"word/\" + name + \".xml\"\n        });\n      }\n      return {\n        mainDocument: mainDocumentPath,\n        comments: findPartRelatedToMainDocument(\"comments\"),\n        endnotes: findPartRelatedToMainDocument(\"endnotes\"),\n        footnotes: findPartRelatedToMainDocument(\"footnotes\"),\n        numbering: findPartRelatedToMainDocument(\"numbering\"),\n        styles: findPartRelatedToMainDocument(\"styles\")\n      };\n    });\n  });\n}\nfunction findPartPath(options) {\n  var docxFile = options.docxFile;\n  var relationships = options.relationships;\n  var relationshipType = options.relationshipType;\n  var basePath = options.basePath;\n  var fallbackPath = options.fallbackPath;\n  var targets = relationships.findTargetsByType(relationshipType);\n  var normalisedTargets = targets.map(function (target) {\n    return stripPrefix(zipfile.joinPath(basePath, target), \"/\");\n  });\n  var validTargets = normalisedTargets.filter(function (target) {\n    return docxFile.exists(target);\n  });\n  if (validTargets.length === 0) {\n    return fallbackPath;\n  } else {\n    return validTargets[0];\n  }\n}\nfunction stripPrefix(value, prefix) {\n  if (value.substring(0, prefix.length) === prefix) {\n    return value.substring(prefix.length);\n  } else {\n    return value;\n  }\n}\nfunction xmlFileReader(options) {\n  return function (zipFile) {\n    return readXmlFromZipFile(zipFile, options.filename).then(function (element) {\n      return element ? options.readElement(element) : options.defaultValue;\n    });\n  };\n}\nfunction readXmlFileWithBody(filename, options, func) {\n  var readRelationshipsFromZipFile = xmlFileReader({\n    filename: relationshipsFilename(filename),\n    readElement: relationshipsReader.readRelationships,\n    defaultValue: relationshipsReader.defaultValue\n  });\n  return readRelationshipsFromZipFile(options.docxFile).then(function (relationships) {\n    var bodyReader = new createBodyReader({\n      relationships: relationships,\n      contentTypes: options.contentTypes,\n      docxFile: options.docxFile,\n      numbering: options.numbering,\n      styles: options.styles,\n      files: options.files\n    });\n    return readXmlFromZipFile(options.docxFile, filename).then(function (xml) {\n      return func(bodyReader, xml);\n    });\n  });\n}\nfunction relationshipsFilename(filename) {\n  var split = zipfile.splitPath(filename);\n  return zipfile.joinPath(split.dirname, \"_rels\", split.basename + \".rels\");\n}\nvar readContentTypesFromZipFile = xmlFileReader({\n  filename: \"[Content_Types].xml\",\n  readElement: contentTypesReader.readContentTypesFromXml,\n  defaultValue: contentTypesReader.defaultContentTypes\n});\nfunction readNumberingFromZipFile(zipFile, path, styles) {\n  return xmlFileReader({\n    filename: path,\n    readElement: function (element) {\n      return numberingXml.readNumberingXml(element, {\n        styles: styles\n      });\n    },\n    defaultValue: numberingXml.defaultNumbering\n  })(zipFile);\n}\nfunction readStylesFromZipFile(zipFile, path) {\n  return xmlFileReader({\n    filename: path,\n    readElement: stylesReader.readStylesXml,\n    defaultValue: stylesReader.defaultStyles\n  })(zipFile);\n}\nvar readPackageRelationships = xmlFileReader({\n  filename: \"_rels/.rels\",\n  readElement: relationshipsReader.readRelationships,\n  defaultValue: relationshipsReader.defaultValue\n});","map":{"version":3,"names":["exports","read","_findPartPaths","findPartPaths","path","require","promises","documents","Result","zipfile","readXmlFromZipFile","createBodyReader","DocumentXmlReader","relationshipsReader","contentTypesReader","numberingXml","stylesReader","notesReader","commentsReader","Files","docxFile","input","props","contentTypes","readContentTypesFromZipFile","partPaths","files","dirname","also","result","styles","readStylesFromZipFile","numbering","readNumberingFromZipFile","footnotes","readXmlFileWithBody","bodyReader","xml","createFootnotesReader","endnotes","createEndnotesReader","comments","createCommentsReader","notes","flatMap","map","Notes","concat","then","mainDocument","reader","convertXmlToDocument","readPackageRelationships","packageRelationships","mainDocumentPath","findPartPath","relationships","relationshipType","basePath","fallbackPath","exists","Error","xmlFileReader","filename","relationshipsFilename","readElement","readRelationships","defaultValue","documentRelationships","findPartRelatedToMainDocument","name","splitPath","options","targets","findTargetsByType","normalisedTargets","target","stripPrefix","joinPath","validTargets","filter","length","value","prefix","substring","zipFile","element","func","readRelationshipsFromZipFile","split","basename","readContentTypesFromXml","defaultContentTypes","readNumberingXml","defaultNumbering","readStylesXml","defaultStyles"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/node_modules/mammoth/lib/docx/docx-reader.js"],"sourcesContent":["exports.read = read;\nexports._findPartPaths = findPartPaths;\n\nvar path = require(\"path\");\n\nvar promises = require(\"../promises\");\nvar documents = require(\"../documents\");\nvar Result = require(\"../results\").Result;\nvar zipfile = require(\"../zipfile\");\n\nvar readXmlFromZipFile = require(\"./office-xml-reader\").readXmlFromZipFile;\nvar createBodyReader = require(\"./body-reader\").createBodyReader;\nvar DocumentXmlReader = require(\"./document-xml-reader\").DocumentXmlReader;\nvar relationshipsReader = require(\"./relationships-reader\");\nvar contentTypesReader = require(\"./content-types-reader\");\nvar numberingXml = require(\"./numbering-xml\");\nvar stylesReader = require(\"./styles-reader\");\nvar notesReader = require(\"./notes-reader\");\nvar commentsReader = require(\"./comments-reader\");\nvar Files = require(\"./files\").Files;\n\n\nfunction read(docxFile, input) {\n    input = input || {};\n\n    return promises.props({\n        contentTypes: readContentTypesFromZipFile(docxFile),\n        partPaths: findPartPaths(docxFile),\n        docxFile: docxFile,\n        files: new Files(input.path ? path.dirname(input.path) : null)\n    }).also(function(result) {\n        return {\n            styles: readStylesFromZipFile(docxFile, result.partPaths.styles)\n        };\n    }).also(function(result) {\n        return {\n            numbering: readNumberingFromZipFile(docxFile, result.partPaths.numbering, result.styles)\n        };\n    }).also(function(result) {\n        return {\n            footnotes: readXmlFileWithBody(result.partPaths.footnotes, result, function(bodyReader, xml) {\n                if (xml) {\n                    return notesReader.createFootnotesReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            }),\n            endnotes: readXmlFileWithBody(result.partPaths.endnotes, result, function(bodyReader, xml) {\n                if (xml) {\n                    return notesReader.createEndnotesReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            }),\n            comments: readXmlFileWithBody(result.partPaths.comments, result, function(bodyReader, xml) {\n                if (xml) {\n                    return commentsReader.createCommentsReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            })\n        };\n    }).also(function(result) {\n        return {\n            notes: result.footnotes.flatMap(function(footnotes) {\n                return result.endnotes.map(function(endnotes) {\n                    return new documents.Notes(footnotes.concat(endnotes));\n                });\n            })\n        };\n    }).then(function(result) {\n        return readXmlFileWithBody(result.partPaths.mainDocument, result, function(bodyReader, xml) {\n            return result.notes.flatMap(function(notes) {\n                return result.comments.flatMap(function(comments) {\n                    var reader = new DocumentXmlReader({\n                        bodyReader: bodyReader,\n                        notes: notes,\n                        comments: comments\n                    });\n                    return reader.convertXmlToDocument(xml);\n                });\n            });\n        });\n    });\n}\n\nfunction findPartPaths(docxFile) {\n    return readPackageRelationships(docxFile).then(function(packageRelationships) {\n        var mainDocumentPath = findPartPath({\n            docxFile: docxFile,\n            relationships: packageRelationships,\n            relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n            basePath: \"\",\n            fallbackPath: \"word/document.xml\"\n        });\n\n        if (!docxFile.exists(mainDocumentPath)) {\n            throw new Error(\"Could not find main document part. Are you sure this is a valid .docx file?\");\n        }\n\n        return xmlFileReader({\n            filename: relationshipsFilename(mainDocumentPath),\n            readElement: relationshipsReader.readRelationships,\n            defaultValue: relationshipsReader.defaultValue\n        })(docxFile).then(function(documentRelationships) {\n            function findPartRelatedToMainDocument(name) {\n                return findPartPath({\n                    docxFile: docxFile,\n                    relationships: documentRelationships,\n                    relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/\" + name,\n                    basePath: zipfile.splitPath(mainDocumentPath).dirname,\n                    fallbackPath: \"word/\" + name + \".xml\"\n                });\n            }\n\n            return {\n                mainDocument: mainDocumentPath,\n                comments: findPartRelatedToMainDocument(\"comments\"),\n                endnotes: findPartRelatedToMainDocument(\"endnotes\"),\n                footnotes: findPartRelatedToMainDocument(\"footnotes\"),\n                numbering: findPartRelatedToMainDocument(\"numbering\"),\n                styles: findPartRelatedToMainDocument(\"styles\")\n            };\n        });\n    });\n}\n\nfunction findPartPath(options) {\n    var docxFile = options.docxFile;\n    var relationships = options.relationships;\n    var relationshipType = options.relationshipType;\n    var basePath = options.basePath;\n    var fallbackPath = options.fallbackPath;\n\n    var targets = relationships.findTargetsByType(relationshipType);\n    var normalisedTargets = targets.map(function(target) {\n        return stripPrefix(zipfile.joinPath(basePath, target), \"/\");\n    });\n    var validTargets = normalisedTargets.filter(function(target) {\n        return docxFile.exists(target);\n    });\n    if (validTargets.length === 0) {\n        return fallbackPath;\n    } else {\n        return validTargets[0];\n    }\n}\n\nfunction stripPrefix(value, prefix) {\n    if (value.substring(0, prefix.length) === prefix) {\n        return value.substring(prefix.length);\n    } else {\n        return value;\n    }\n}\n\nfunction xmlFileReader(options) {\n    return function(zipFile) {\n        return readXmlFromZipFile(zipFile, options.filename)\n            .then(function(element) {\n                return element ? options.readElement(element) : options.defaultValue;\n            });\n    };\n}\n\nfunction readXmlFileWithBody(filename, options, func) {\n    var readRelationshipsFromZipFile = xmlFileReader({\n        filename: relationshipsFilename(filename),\n        readElement: relationshipsReader.readRelationships,\n        defaultValue: relationshipsReader.defaultValue\n    });\n\n    return readRelationshipsFromZipFile(options.docxFile).then(function(relationships) {\n        var bodyReader = new createBodyReader({\n            relationships: relationships,\n            contentTypes: options.contentTypes,\n            docxFile: options.docxFile,\n            numbering: options.numbering,\n            styles: options.styles,\n            files: options.files\n        });\n        return readXmlFromZipFile(options.docxFile, filename)\n            .then(function(xml) {\n                return func(bodyReader, xml);\n            });\n    });\n}\n\nfunction relationshipsFilename(filename) {\n    var split = zipfile.splitPath(filename);\n    return zipfile.joinPath(split.dirname, \"_rels\", split.basename + \".rels\");\n}\n\nvar readContentTypesFromZipFile = xmlFileReader({\n    filename: \"[Content_Types].xml\",\n    readElement: contentTypesReader.readContentTypesFromXml,\n    defaultValue: contentTypesReader.defaultContentTypes\n});\n\nfunction readNumberingFromZipFile(zipFile, path, styles) {\n    return xmlFileReader({\n        filename: path,\n        readElement: function(element) {\n            return numberingXml.readNumberingXml(element, {styles: styles});\n        },\n        defaultValue: numberingXml.defaultNumbering\n    })(zipFile);\n}\n\nfunction readStylesFromZipFile(zipFile, path) {\n    return xmlFileReader({\n        filename: path,\n        readElement: stylesReader.readStylesXml,\n        defaultValue: stylesReader.defaultStyles\n    })(zipFile);\n}\n\nvar readPackageRelationships = xmlFileReader({\n    filename: \"_rels/.rels\",\n    readElement: relationshipsReader.readRelationships,\n    defaultValue: relationshipsReader.defaultValue\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}