{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, INTERNAL, tryConvertToPromise, apiRejection, Proxyable) {\n  var util = require(\"./util\");\n  var isArray = util.isArray;\n  function toResolutionValue(val) {\n    switch (val) {\n      case -2:\n        return [];\n      case -3:\n        return {};\n    }\n  }\n  function PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n      promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n  }\n  util.inherits(PromiseArray, Proxyable);\n  PromiseArray.prototype.length = function () {\n    return this._length;\n  };\n  PromiseArray.prototype.promise = function () {\n    return this._promise;\n  };\n  PromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n      values = values._target();\n      var bitField = values._bitField;\n      ;\n      this._values = values;\n      if ((bitField & 50397184) === 0) {\n        this._promise._setAsyncGuaranteed();\n        return values._then(init, this._reject, undefined, this, resolveValueIfEmpty);\n      } else if ((bitField & 33554432) !== 0) {\n        values = values._value();\n      } else if ((bitField & 16777216) !== 0) {\n        return this._reject(values._reason());\n      } else {\n        return this._cancel();\n      }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n      var err = apiRejection(\"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n      this._promise._rejectCallback(err, false);\n      return;\n    }\n    if (values.length === 0) {\n      if (resolveValueIfEmpty === -5) {\n        this._resolveEmptyArray();\n      } else {\n        this._resolve(toResolutionValue(resolveValueIfEmpty));\n      }\n      return;\n    }\n    this._iterate(values);\n  };\n  PromiseArray.prototype._iterate = function (values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n      var maybePromise = tryConvertToPromise(values[i], result);\n      if (maybePromise instanceof Promise) {\n        maybePromise = maybePromise._target();\n        bitField = maybePromise._bitField;\n      } else {\n        bitField = null;\n      }\n      if (isResolved) {\n        if (bitField !== null) {\n          maybePromise.suppressUnhandledRejections();\n        }\n      } else if (bitField !== null) {\n        if ((bitField & 50397184) === 0) {\n          maybePromise._proxy(this, i);\n          this._values[i] = maybePromise;\n        } else if ((bitField & 33554432) !== 0) {\n          isResolved = this._promiseFulfilled(maybePromise._value(), i);\n        } else if ((bitField & 16777216) !== 0) {\n          isResolved = this._promiseRejected(maybePromise._reason(), i);\n        } else {\n          isResolved = this._promiseCancelled(i);\n        }\n      } else {\n        isResolved = this._promiseFulfilled(maybePromise, i);\n      }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n  };\n  PromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n  };\n  PromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n  };\n  PromiseArray.prototype._cancel = function () {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n  };\n  PromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n  };\n  PromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n      this._resolve(this._values);\n      return true;\n    }\n    return false;\n  };\n  PromiseArray.prototype._promiseCancelled = function () {\n    this._cancel();\n    return true;\n  };\n  PromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n  };\n  PromiseArray.prototype._resultCancelled = function () {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n      values.cancel();\n    } else {\n      for (var i = 0; i < values.length; ++i) {\n        if (values[i] instanceof Promise) {\n          values[i].cancel();\n        }\n      }\n    }\n  };\n  PromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n  };\n  PromiseArray.prototype.getActualLength = function (len) {\n    return len;\n  };\n  return PromiseArray;\n};","map":{"version":3,"names":["module","exports","Promise","INTERNAL","tryConvertToPromise","apiRejection","Proxyable","util","require","isArray","toResolutionValue","val","PromiseArray","values","promise","_promise","_propagateFrom","_setOnCancel","_values","_length","_totalResolved","_init","undefined","inherits","prototype","length","init","_","resolveValueIfEmpty","_target","bitField","_bitField","_setAsyncGuaranteed","_then","_reject","_value","_reason","_cancel","asArray","err","classString","reason","_rejectCallback","_resolveEmptyArray","_resolve","_iterate","len","getActualLength","shouldCopyValues","Array","result","isResolved","i","maybePromise","suppressUnhandledRejections","_proxy","_promiseFulfilled","_promiseRejected","_promiseCancelled","_isResolved","value","_fulfill","_isCancellable","index","totalResolved","_resultCancelled","cancel"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/node_modules/mammoth/node_modules/bluebird/js/release/promise_array.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = require(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}