{"ast":null,"code":"var _jsxFileName = \"/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/src/components/Evaluation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { sendMessageToAI } from \"../utils/GptAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Evaluation = ({\n  messages\n}) => {\n  _s();\n  const [gptMessages, setGptMessages] = useState(\"\");\n  useEffect(() => {\n    const createTranscript = messages => {\n      return messages.slice(1).map(msg => `${msg.role}: ${msg.content}`).join('\\n');\n    };\n    const fetchEvaluation = async () => {\n      const transcript = createTranscript(messages);\n      const initialContext = {\n        role: \"system\",\n        content: \"You are a senior software developer at a large software company. \" + \"Evaluate the user in the interview transcript. Focus on 8 aspects in your evaluation: \" + \"Motivation, Ability to be Proactive, Able to work in an unstructured environment, Perseverance, \" + \"Empathy, and Communication.\"\n      };\n      const interviewTranscript = {\n        role: \"user\",\n        content: transcript\n      };\n\n      // Now call the API and wait for the response before setting the state\n      const response = await gptCall([initialContext, interviewTranscript]);\n      if (response) {\n        // Make sure there's a response before setting state\n        setGptMessages(response);\n      }\n    };\n    fetchEvaluation();\n  }, []);\n  const gptCall = async newMessages => {\n    try {\n      const responseText = await sendMessageToAI(newMessages);\n      return responseText;\n    } catch (error) {\n      console.error('Error:', error);\n      return \"\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [gptMessages, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Evaluation, \"RoyQNhsVCkXRLCJZUkjX+WuHy2U=\");\n_c = Evaluation;\nexport default Evaluation;\nvar _c;\n$RefreshReg$(_c, \"Evaluation\");","map":{"version":3,"names":["React","useState","useEffect","sendMessageToAI","jsxDEV","_jsxDEV","Evaluation","messages","_s","gptMessages","setGptMessages","createTranscript","slice","map","msg","role","content","join","fetchEvaluation","transcript","initialContext","interviewTranscript","response","gptCall","newMessages","responseText","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yashagrawal/Documents/Northwestern/Fall2023/CS338/InterviewPrep/src/components/Evaluation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { sendMessageToAI } from \"../utils/GptAPI\";\n\nconst Evaluation = ({ messages }) => {\n  const [gptMessages, setGptMessages] = useState(\"\");\n\n  useEffect(() => {\n    const createTranscript = (messages) => {\n      return messages.slice(1).map((msg) => `${msg.role}: ${msg.content}`).join('\\n');\n    };\n\n    const fetchEvaluation = async () => {\n      const transcript = createTranscript(messages);\n\n      const initialContext = {\n        role: \"system\",\n        content: \"You are a senior software developer at a large software company. \" + \n        \"Evaluate the user in the interview transcript. Focus on 8 aspects in your evaluation: \" +\n        \"Motivation, Ability to be Proactive, Able to work in an unstructured environment, Perseverance, \" +\n        \"Empathy, and Communication.\"\n      };\n\n      const interviewTranscript = {\n        role: \"user\",\n        content: transcript\n      };\n\n      // Now call the API and wait for the response before setting the state\n      const response = await gptCall([initialContext, interviewTranscript]);\n      if (response) { // Make sure there's a response before setting state\n        setGptMessages(response);\n      }\n    };\n\n    fetchEvaluation();\n  }, []);\n\n  const gptCall = async (newMessages) => {\n    try {\n      const responseText = await sendMessageToAI(newMessages);\n      return responseText;\n    } catch (error) {\n      console.error('Error:', error);\n      return \"\";\n    }\n  };\n\n  return (\n    <div>\n      {gptMessages} {/* Render the message directly as it's now a string */}\n    </div>\n  );\n};\n\nexport default Evaluation;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAElDC,SAAS,CAAC,MAAM;IACd,MAAMS,gBAAgB,GAAIJ,QAAQ,IAAK;MACrC,OAAOA,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEC,GAAG,IAAM,GAAEA,GAAG,CAACC,IAAK,KAAID,GAAG,CAACE,OAAQ,EAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;IACjF,CAAC;IAED,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,MAAMC,UAAU,GAAGR,gBAAgB,CAACJ,QAAQ,CAAC;MAE7C,MAAMa,cAAc,GAAG;QACrBL,IAAI,EAAE,QAAQ;QACdC,OAAO,EAAE,mEAAmE,GAC5E,wFAAwF,GACxF,kGAAkG,GAClG;MACF,CAAC;MAED,MAAMK,mBAAmB,GAAG;QAC1BN,IAAI,EAAE,MAAM;QACZC,OAAO,EAAEG;MACX,CAAC;;MAED;MACA,MAAMG,QAAQ,GAAG,MAAMC,OAAO,CAAC,CAACH,cAAc,EAAEC,mBAAmB,CAAC,CAAC;MACrE,IAAIC,QAAQ,EAAE;QAAE;QACdZ,cAAc,CAACY,QAAQ,CAAC;MAC1B;IACF,CAAC;IAEDJ,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,OAAO,GAAG,MAAOC,WAAW,IAAK;IACrC,IAAI;MACF,MAAMC,YAAY,GAAG,MAAMtB,eAAe,CAACqB,WAAW,CAAC;MACvD,OAAOC,YAAY;IACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B,OAAO,EAAE;IACX;EACF,CAAC;EAED,oBACErB,OAAA;IAAAuB,QAAA,GACGnB,WAAW,EAAC,GAAC;EAAA;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEV,CAAC;AAACxB,EAAA,CAjDIF,UAAU;AAAA2B,EAAA,GAAV3B,UAAU;AAmDhB,eAAeA,UAAU;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}